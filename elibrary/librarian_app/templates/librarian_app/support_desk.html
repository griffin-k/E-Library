{% extends 'librarian_app/base.html' %}
{% block title %}Support Desk{% endblock %}

{% block content %}

    <h2 class="text-3xl font-bold text-gray-700 mb-6 text-center">ğŸ“ Support Desk</h2>

    <!-- Support Form -->
    <div class="bg-gray-100 p-6 rounded-lg shadow-md">
        <div class="flex justify-center">
            <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">Need Help</h3>
        </div>
        
        <form id="supportForm">
            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-1">Full Name</label>
                <input type="text" id="name" required class="w-full p-3 border border-gray-300 rounded-lg">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-1">Email</label>
                <input type="email" id="email" required class="w-full p-3 border border-gray-300 rounded-lg">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-1">Your Message</label>
                <textarea id="message" rows="4" required class="w-full p-3 border border-gray-300 rounded-lg"></textarea>
            </div>
            <button type="button" onclick="sendToWhatsApp()" class="bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 shadow-md w-full">
                ğŸ“© Send via WhatsApp
            </button>
        </form>

</div>

<script>
function sendToWhatsApp() {
    let name = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let message = document.getElementById("message").value;

    if (name.trim() === "" || email.trim() === "" || message.trim() === "") {
        alert("Please fill in all fields before submitting.");
        return;
    }

    let whatsappMessage = `*Support Request*\n\nğŸ‘¤ Name: ${name}\nğŸ“§ Email: ${email}\nğŸ“ Message: ${message}`;
    let encodedMessage = encodeURIComponent(whatsappMessage);
    let whatsappUrl = `https://wa.me/03009410503?text=${encodedMessage}`;

    window.open(whatsappUrl, "_blank");
}
</script>

{% endblock %}
